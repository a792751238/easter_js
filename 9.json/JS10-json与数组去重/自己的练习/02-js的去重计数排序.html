<!DOCTYPE HTML>
<HTML>

<HEAD>
    <meta charset="utf-8" />
    <meta name="generator" content="editplus" />
    <meta name="author" content="" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <TITLE>js去重计数排序</TITLE>
</HEAD>

<BODY>
    <script type="text/javascript">
        //实现json的数据统计，计数
		//现在有的数据arr=[冬新品 韩版 冬新品 长袖 韩版 冬新] 
         //1.去重:	要的{冬新品:4,韩版:2,长袖:3}
        var str = '冬新品 韩版 冬新品 长袖 韩版 冬新品 裤子 冬新品 长袖 套装 半身裙 长袖';
        var arr = str.split(" ");
        var json = {};
        for (var i = 0; i < arr.length; i++) {
            if (json[arr[i]]) { //判断value值是否存在，不存在执行else，赋值为1，如果存在就自加1，累计存在次数
                json[arr[i]]++;
            } else {
                json[arr[i]] = 1;
            }
        }
        console.log(json);
         //使用sort方法进行json的排序
		  //2.数据整理
         //我有的数据	json={冬新品:4,韩版:2,长袖:3}
         //数据整理	json--->arr2	[{name:冬新品,count:4},{}]
        var arr2 = [];
        for (var key in json) {
            arr2.push({
                name: key,
                count: json[key]
            });
        }
		//3.排序
         //我有的数据	json={冬新品:4,韩版:2,长袖:3}	[{name:冬新品,count:4},{2},{3}]
         //要的数据	[{name:冬新品,count:4},{..,count:3},{...2}]
        arr2.sort(function(a, b) {
            return b.count - a.count
        });
        console.log(arr2);
		//4.数据再整理	要的  冬新品(4) 长袖(3) 韩版(2)...
         //我有的数据	json={冬新品:4,韩版:2,长袖:3}	
         //			arr2=[{name:冬新品,count:4},{..,count:3},{...2}]
         //			arr=[冬新品 韩版 冬新品 长袖 韩版 冬新] 
         //arr2--->arr3--->string
        var arr3 = [];
        for (var i = 0; i < arr2.length; i++) {
            arr3.push(arr2[i].name + '(' + arr2[i].count + ')');
        }
        document.write(arr3.join(' '));
        var s = '';
        for (var i = 0; i < arr2.length; i++) {
            s += arr2[i].name + '(' + arr2[i].count + ') ';
        }
        console.log(s);
         //再将json转化成字符串
         //        var str2 = '';
         //        for (var key in json) {
         //            str2 += '' + key + '(' + json[key] + ')' + '';
         //        }
         //        console.log(str2);
    </script>
</BODY>

</HTML>