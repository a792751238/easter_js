<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>评分</title>
<link href="zns_style2.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
window.onload=function(){
    var oPingfen=document.getElementById('pingfen')
    var aLi=oPingfen.getElementsByTagName('li')
    var oSpan=document.getElementById('s')
    for (var i = 0; i < aLi.length; i++) {
        (function(index){
            aLi[i].onmouseover=function(){

                //控制星星
                for (var i = 0; i < aLi.length; i++) {
                    if(i<=index){
                        //点亮
                        aLi[i].className=   i%2==0?'l_active':'r_active';
                    }else{
                        //灰掉
                        aLi[i].className=   i%2==0?'l':'r';
                    }
                };

                //控制分数
                oSpan.innerHTML=(index+1)/2+'分';
            };
        })(i);
        aLi[i].onmouseout=function(){
            for (var i = 0; i < aLi.length; i++) {
                aLi[i].className=i%2==0?'l':'r';
            };
            oSpan.innerHTML='0分';
        };
        aLi[i].onclick=function(){
            for (var i = 0; i < aLi.length; i++) {
                aLi[i].onmouseover=aLi[i].onmouseout=aLi[i].onclick=null;
            };
        };
    };
};
</script>
</head>

<body>
<div id="pingfen">
	<ul>
    	<li class="l"></li>
    	<li class="r"></li>
    	<li class="l"></li>
    	<li class="r"></li>
    	<li class="l"></li>
    	<li class="r"></li>
    	<li class="l"></li>
    	<li class="r"></li>
    	<li class="l"></li>
    	<li class="r"></li>
        <span id="s">0分</span>
    </ul>
</div>
</body>
</html>
