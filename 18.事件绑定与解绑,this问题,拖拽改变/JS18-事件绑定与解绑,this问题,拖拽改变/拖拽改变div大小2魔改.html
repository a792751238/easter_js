<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>拖拽改变div大小改版</title>
    <style>
        #box {
    width: 300px;
    height: 300px;
    background: #ccc;
    position: relative;
}

#box .rb {
    width: 20px;
    height: 20px;
    background: red;
    position: absolute;
    right: 0;
    bottom: 0;
}
    </style>
    <script>
        //window.onload=function(){
         //	var oBox=document.getElementById('box');
         //	var oRb=oBox.children[0];
         //	
         //	oRb.onmousedown=function(ev){
         //		var oEvent=ev || event;
         //		var disX=oEvent.clientX-oRb.offsetLeft;
         //		var disY=oEvent.clientY-oRb.offsetTop;
         //		
         //		//存东西
         //		var oldX=oEvent.clientX;
         //		var oldWidth=oBox.offsetWidth;
         //		
         //		
         //		document.onmousemove=function(ev){
         //			var oEvent=ev || event;
         //			
         //			var targetX=oEvent.clientX-oldX;
         //			
         //			var newWidth=oldWidth+targetX;
         //			oBox.style.width=newWidth+'px';	
         //		}
         //		
         //		document.onmouseup=function(){
         //			document.onmousemove=null;
         //			document.onmouseup=null;	
         //		}
         //			
         //	}	
         //}
    </script>
</head>

<body>
    <div id="box">
        <div class="rb" id="rb"></div>
    </div>
    <script type="text/javascript">
        //        var oDiv = document.getElementById("box");
         //        var oTuo = document.getElementById("rb");
         //        oTuo.onmousedown = function(ev) {
         //            var oEve = ev || event;
         //            var oldX = oEve.clientX - oTuo.offsetLeft;
         //            var oldY = oEve.clientY - oTuo.offsetTop;
         //            document.onmousemove = function(ev) {
         //                var oEve = ev || event;
         //                var newLeft = oEve.clientX - oldX;
         //                var newTop = oEve.clientY - oldY;
         //                oTuo.style.left = newLeft + 'px';
         //                oTuo.style.top = newTop + 'px';
         //                oDiv.style.width = newLeft + oTuo.offsetWidth + 'px';
         //                oDiv.style.height = newTop + oTuo.offsetHeight + 'px';
         //            }
         //            oTuo.onmouseup = function() {
         //                document.onmousemove = null;
         //                oTuo.onmouseup = null;
         //            }
         //        }

		 //方法2
        var oDiv = document.getElementById("box");
        var oTuo = document.getElementById("rb");
        oTuo.onmousedown = function(ev) {
            var oEve = ev || event;
            var oldX = oEve.clientX;
            var oldY = oEve.clientY;
            var oldWidth = oDiv.offsetWidth;
            var oldHeight = oDiv.offsetHeight;
            document.onmousemove = function(ev) {
                var oEve = ev || event;
                var chaX = oEve.clientX - oldX;
                var chaY = oEve.clientY - oldY;
                var newWidth = oldWidth + chaX;
                var newHeight = oldHeight + chaY;
                oDiv.style.width = newWidth + 'px';
                oDiv.style.height = newHeight + 'px';
            }
            oTuo.onmouseup = function() {
                oTuo.onmouseup = null;
                document.onmousemove = null;
            }
        }
    </script>
</body>

</html>